# 《我的工程师生活》游戏指南

## 🎮 游戏简介

《我的工程师生活》是一个深度的生活模拟游戏，让你体验真实的工程师职场生活。通过感性和理性两条不同的路径，探索生活的本质和意义。游戏采用模块化架构，提供完整的命令行界面和丰富的游戏机制。

## 🚀 快速开始

### 安装和运行
```bash
# 安装依赖
npm install

# 启动游戏（推荐）
npm start

# 或者使用开发模式
npm run dev

# 直接运行前端
npm run frontend

# 编译后运行
npm run build
npm start
```

### 测试和开发
```bash
# 运行所有测试
npm test

# 运行前端测试
npm run test:frontend

# 测试覆盖率
npm run test:coverage

# 后端CLI测试
npx ts-node src/index.ts
```

## 🎯 游戏目标

- **感性路径**：通过社交、艺术、直觉和情感的力量来理解生活
- **理性路径**：通过逻辑、科学、分析和思辨来理解生活
- **平衡发展**：在感性和理性之间找到平衡，探索生活的真谛
- **多重结局**：根据你的选择和发展方向，体验13+种不同的人生结局

## 🕹️ 操作指南

### 基本操作
- **数字1+**：执行对应编号的事件
- **字母命令**：
  - `s` - 保存游戏进度
  - `l` - 读取游戏进度
  - `i` - 查看物品栏
  - `h` - 显示帮助
  - `q` - 退出游戏
  - `lang` - 切换中英文界面

### 游戏界面说明

```
╔══════════════════════════════════════════════════════════════╗
║                    My Life As An Engineer                    ║
║                      命令行游戏界面                          ║
╚══════════════════════════════════════════════════════════════╝

┌─────────────────────────────────────────────────────────────┐
│                        游戏状态                            │
├─────────────────────────────────────────────────────────────┤
│ 时间: 07:00 周一 (工作日) (白天)                           │
│ 位置: 公司                                                 │
├─────────────────────────────────────────────────────────────┤
│ 💰 金钱: 30000     ❤️  健康: 100/100     😴 疲劳: 0/100    │
│ 🍽️  饥饿: 0/100     🧠 理性: 50/100     💖 感性: 50/100   │
│ 🎯 专注: 100/100     😊 心情: 80/100    🔧 技能: 0/100     │
│ 👔 职级: 1/10     📊 项目: 0/100    😠 老板: 0/100         │
│ 🤝 社交: 0/100     🏆 声誉: 0/100    🤔 感悟: 0/100       │
└─────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────┐
│                      可用操作                              │
├─────────────────────────────────────────────────────────────┤
│ 快速行动 (≤1小时):                                         │
│ 1. 洗漱 (0.5小时)                                          │
│ 2. 简单早餐 (0.5小时)                                      │
├─────────────────────────────────────────────────────────────┤
│ 中等行动 (1-2.5小时):                                      │
│ 3. 阅读技术书籍 (2小时)                                    │
│ 4. 与同事交流 (1.5小时)                                   │
├─────────────────────────────────────────────────────────────┤
│ 长时间行动 (>2.5小时):                                     │
│ 5. 深度编程项目 (4小时)                                   │
│ 6. 哲学思考 (3小时)                                       │
├─────────────────────────────────────────────────────────────┤
│ 系统: s-保存 l-读取 i-物品 h-帮助 q-退出 lang-切换语言     │
└─────────────────────────────────────────────────────────────┘
```

## 📊 属性系统详解

### 基础属性
- **💰 金钱**：购买物品和服务的货币，通过工作获得
- **❤️ 健康**：身体健康状况，影响工作效率和生活质量
- **😴 疲劳**：身体疲劳程度，需要通过休息恢复
- **🍽️ 饥饿**：饥饿程度，需要进食恢复

### 核心属性
- **🧠 理性**：逻辑思维能力，影响技术工作效率和理性路径发展
- **💖 感性**：情感直觉能力，影响社交工作效率和感性路径发展
- **🎯 专注**：执行困难任务的意志力资源，消耗后需要恢复
- **😊 心情**：当前情绪状态，影响各种活动效果

### 职业属性
- **🔧 技能**：专业技术能力水平，影响工作效率和晋升机会
- **👔 职级**：职业等级（1-10级），决定可用的工作事件和薪资
- **📊 项目**：当前项目完成进度，影响职业发展
- **😠 老板**：老板对你的不满程度，过高会影响职业发展

### 高级属性
- **🤝 社交影响力**：通过社交积累的隐形资源，影响人际关系
- **🏆 技术声誉**：通过技术工作积累的声誉，影响职业机会
- **🤔 哲学感悟**：通过思考积累的人生感悟，影响游戏结局

## ⏰ 时间系统

- **时间单元**：每天48个时间单元，每个单元30分钟
- **游戏开始**：周一早上7点（时间单元0）
- **工作日**：周一至周五，可进行工作相关活动
- **周末**：周六周日，工作事件受限，适合休息和个人发展
- **白天/夜晚**：影响某些活动的效果和可用性
- **时间消耗**：不同事件消耗不同的时间单元

## 🏢 场景系统

### 公司（Location ID: 1）
- **工作事件**：编程、设计、会议、项目管理
- **社交事件**：与老板、同事互动，建立职场关系
- **学习事件**：技能提升、知识学习、培训参与
- **职级要求**：某些高级工作需要特定职级

### 商店（Location ID: 2）
- **购买物品**：生活用品、工作装备、书籍
- **技术书籍**：提升专业技能和理性属性
- **哲学书籍**：增加人生感悟和感性属性
- **工具装备**：提供永久性效果加成

### 家（Location ID: 3）
- **休息恢复**：睡眠、放松，恢复疲劳和专注力
- **个人学习**：读书、思考、技能练习
- **生活管理**：整理、规划、个人时间
- **深度思考**：哲学思辨，增加人生感悟

### 公园（Location ID: 4）
- **锻炼身体**：提升健康度，缓解疲劳
- **思考人生**：增加哲学感悟，平衡心态
- **放松心情**：缓解压力，提升心情
- **社交活动**：与他人交流，增加社交影响力

### 餐馆（Location ID: 5）
- **用餐**：恢复饥饿度，维持基本需求
- **社交**：与他人交流，建立人际关系
- **享受生活**：提升心情，平衡工作压力
- **商务聚餐**：职场社交，影响职业发展

### 医院（Location ID: 6）
- **治疗**：恢复健康，处理健康问题
- **体检**：了解身体状况，预防疾病
- **咨询**：获得健康建议，学习健康知识
- **心理咨询**：处理心理问题，平衡情绪

## 🎲 事件系统

### 事件分类
- **快速行动**（≤1小时）：日常基础活动，如洗漱、简单用餐
- **中等行动**（1-2.5小时）：需要一定投入的活动，如学习、社交
- **长时间行动**（>2.5小时）：深度投入的重要活动，如项目开发、深度思考

### 事件条件系统
游戏使用复杂的条件表达式来控制事件可用性：
- **资源条件**：`resource[14]>50` - 检查特定资源值
- **时间条件**：`time[weekend]==true` - 检查时间状态
- **复合条件**：`resource[22]==1&resource[20]>=5` - 多条件组合
- **计算表达式**：`calc[8000+2000*resource[22]]` - 动态计算
- **条件分支**：`conditional[resource[2]>=2800?0:-2800]` - 条件判断

### 事件效果
- **资源变化**：各种属性的增减
- **临时事件**：随机触发的特殊情况（如疲劳警告、晋升机会）
- **定时任务**：延迟生效的持续影响（如工资发放、房租扣除）
- **结局触发**：达到特定条件时触发游戏结局

## 💾 存档系统

### 保存游戏
- **输入命令**：在游戏中输入 `s`
- **获取代码**：系统生成Base64编码的存档代码
- **保存代码**：请妥善保存存档代码，用于后续读取

### 读取游戏
- **输入命令**：在游戏中输入 `l`
- **输入代码**：粘贴之前保存的存档代码
- **恢复状态**：游戏状态将恢复到保存时的状态

### 存档特性
- **跨平台**：存档代码可在不同设备间使用
- **人类可读**：Base64编码，便于传输和备份
- **完整状态**：包含所有游戏状态和进度信息

## 🎯 游戏策略

### 新手建议
1. **平衡发展**：不要只专注于工作，注意休息和娱乐
2. **时间管理**：合理安排工作日和周末的活动
3. **资源管理**：注意疲劳、饥饿等基础需求
4. **社交投资**：与同事和老板保持良好关系
5. **技能提升**：通过学习和实践提升专业技能

### 进阶策略
1. **路径选择**：决定走感性路径还是理性路径
2. **职业规划**：通过技能提升和项目完成获得晋升
3. **哲学思考**：通过深度思考获得人生感悟
4. **生活平衡**：在工作成就和生活质量间找到平衡
5. **结局导向**：根据想要的结局调整发展策略

### 高级技巧
1. **条件优化**：理解事件条件，优化属性配置
2. **时间效率**：选择高效率的事件组合
3. **资源循环**：建立可持续的资源获取循环
4. **风险管理**：避免过度疲劳和健康问题
5. **机会把握**：抓住临时事件带来的机会

## 🏆 结局系统

游戏包含13+种不同的结局，分为三大类：

### 失败结局
- **过劳死**：过度工作导致健康崩溃
- **被解雇**：工作表现不佳或与老板关系恶化
- **抑郁症**：心理健康问题导致无法继续

### 成就结局
- **技术专家**：在技术领域达到顶峰
- **管理精英**：成为优秀的技术管理者
- **创业成功**：离职创业并获得成功

### 平衡结局
- **工作生活平衡**：在工作和生活间找到完美平衡
- **哲学家工程师**：通过技术工作获得人生感悟
- **社交达人**：通过人际关系获得成功

## 🔧 技术特性

### 模块化架构
- **GameEngine**：核心游戏引擎
- **Manager系统**：专业化的管理模块
- **Frontend组件**：模块化的前端界面
- **CSV配置**：灵活的数据配置系统

### 多语言支持
- **完整本地化**：中英文界面和内容
- **动态切换**：游戏中实时切换语言
- **扩展性**：易于添加新语言支持

### 性能优化
- **高效解析**：优化的CSV加载和条件解析
- **内存管理**：最小化运行时内存占用
- **响应式界面**：流畅的用户交互体验

## 🔧 故障排除

### 常见问题
1. **游戏无法启动**：检查Node.js和TypeScript安装
2. **显示异常**：确保终端支持UTF-8编码和Unicode字符
3. **命令无响应**：重启游戏或检查输入格式
4. **存档失败**：检查存档代码的完整性
5. **语言切换问题**：确保本地化文件完整

### 调试模式
如需调试，可以启用开发模式：
```bash
NODE_ENV=development npm run dev
```

### 性能问题
- 确保终端性能良好
- 避免在低性能设备上运行
- 关闭不必要的后台程序

## 🎨 自定义和扩展

### 修改游戏内容
游戏支持通过修改CSV文件来自定义内容：
- `csv/events.csv` - 事件定义（200+事件）
- `csv/resources.csv` - 资源配置（82种资源）
- `csv/locations.csv` - 场景设置（6个场景）
- `csv/items.csv` - 物品数据（20+物品）
- `csv/temporary_events.csv` - 临时事件
- `csv/scheduled_tasks.csv` - 定时任务
- `csv/endings.csv` - 游戏结局

### 添加新功能
1. 在相应的CSV文件中添加数据
2. 修改TypeScript类型定义
3. 更新相关的管理器逻辑
4. 测试新功能的兼容性

## 📝 开发说明

### 技术栈
- **TypeScript**：类型安全的JavaScript
- **Node.js**：运行时环境
- **CSV**：数据配置格式
- **Jest**：测试框架

### 项目结构
```
MyLifeAsAnEngineer/
├── src/                    # 源代码
│   ├── managers/          # 管理器模块
│   ├── frontend/          # 前端界面
│   ├── types.ts           # 类型定义
│   ├── gameEngine.ts      # 游戏引擎
│   └── index.ts           # 入口文件
├── csv/                   # 游戏数据
├── test/                  # 测试文件
├── package.json           # 项目配置
└── README.md             # 项目说明
```

### 贡献指南
欢迎提交Issue和Pull Request！
- 保持代码简洁和可读性
- 添加适当的注释和类型定义
- 遵循TypeScript最佳实践
- 测试新功能的兼容性
- 确保多语言支持的完整性

---

**享受你的工程师生活之旅！** 🚀

在这个游戏中，你将体验到真实工程师的日常生活，面对工作压力、人际关系、个人成长等各种挑战。通过不同的选择和行动，探索属于你自己的人生道路。

记住：生活不仅仅是工作，还有诗和远方。在感性和理性之间找到平衡，才能获得真正的幸福和成就感。通过这个游戏，你可以安全地探索不同的人生选择，思考什么才是真正有意义的生活。 