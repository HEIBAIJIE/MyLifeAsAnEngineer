# 《My Life As An Engineer》核心理念与架构

## 游戏核心理念

这不仅仅是一个生活模拟游戏，更是一个从日常重复的工作生活中发现自我、探索生活本质的哲学体验游戏。玩家通过工程师的视角，在看似机械的日常中寻找意义，通过感性和理性两条不同的路径来理解生活的本质。

感性路径：通过社交、艺术、直觉和情感的力量来理解生活，发现人与人之间的联系和生活中的美好。
理性路径：通过逻辑、科学、分析和思辨来理解生活，追求文明的尊严和知识的力量。

## 技术架构

游戏从技术上分为前端和后端。前端由Cocos实现，包括各种Cocos对象、图片、音乐资源等。后端与Cocos解耦，本质上是一个独立的、持续运行的、生命周期与Cocos无关的TypeScript线程。

后端接收字符串形式的外部指令，并且执行指令的内容。后端定义好接受的指令接口，以及其调用格式，前端只需发送字符串信息给后端（将字符串指令塞到后端的指令队列中），并从响应队列中获取响应。响应队列的大小只有1，如果响应没有被获取，后端不会接受下一个指令。

前端只负责文字、图像和音乐的展示，不涉及任何数值交互逻辑。

## 技术栈要求

1. 只允许使用TypeScript
2. 不能依赖任何中间件，这是一个单机游戏
3. 存档功能通过导入、导出通过BASE64转码的字符串实现。不允许保存或者读取存档文件。
4. 所有事件的持久化影响（例如消耗时间、属性增加、属性减少、属性变为指定值）都通过一个csv文件配置。这个csv文件的行是一个个事件，列是事件对资源的影响。
5. 这个游戏所有的持久化数值都是资源。系统整体需要随时支持存档、读档。存档的内容即当前所有资源的现值向量。
6. 物品、事件、临时事件、定时任务都从数值策划配置表中读取。请不要使用硬编码。请保持框架的自动化特性，添加简单条件的新事件不需要修改代码就能在游戏中生效。
7. 永久效果系统通过资源67-75实现。所有涉及工作效率和专注力消耗的事件计算时，都需要查询对应的加成百分比资源，并按照公式进行计算。永久效果的启用通过标记位资源（0/1值）控制。 