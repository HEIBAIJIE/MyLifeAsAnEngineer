# ã€Šæˆ‘çš„å·¥ç¨‹å¸ˆç”Ÿæ´»ã€‹å‘½ä»¤è¡Œå‰ç«¯

è¿™æ˜¯ä¸€ä¸ªä¸ºã€Šæˆ‘çš„å·¥ç¨‹å¸ˆç”Ÿæ´»ã€‹æ¸¸æˆåç«¯è®¾è®¡çš„å®Œæ•´å‘½ä»¤è¡Œå‰ç«¯ç•Œé¢ï¼Œé‡‡ç”¨æ¨¡å—åŒ–æ¶æ„ï¼Œæä¾›äº†ä¸°å¯Œçš„æ¸¸æˆä½“éªŒã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ® æ¸¸æˆç•Œé¢
- **ç¾è§‚çš„å‘½ä»¤è¡Œç•Œé¢**ï¼šä½¿ç”¨Unicodeå­—ç¬¦ç»˜åˆ¶çš„è¡¨æ ¼å’Œè¾¹æ¡†
- **å®æ—¶çŠ¶æ€æ˜¾ç¤º**ï¼šæ¸…æ™°å±•ç¤ºæ‰€æœ‰æ¸¸æˆå±æ€§å’ŒçŠ¶æ€
- **æ™ºèƒ½äº‹ä»¶åˆ†ç»„**ï¼šæŒ‰æ—¶é—´æ¶ˆè€—å°†äº‹ä»¶åˆ†ä¸ºå¿«é€Ÿã€ä¸­ç­‰ã€é•¿æ—¶é—´è¡ŒåŠ¨
- **ä¸°å¯Œçš„è¡¨æƒ…ç¬¦å·**ï¼šä¸ºä¸åŒå±æ€§é…ç½®äº†å¯¹åº”çš„emojiå›¾æ ‡
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šå®Œæ•´çš„ä¸­è‹±æ–‡ç•Œé¢åˆ‡æ¢

### ğŸ•¹ï¸ æ“ä½œæ–¹å¼
- **æ•°å­—1+**ï¼šæ‰§è¡Œå¯¹åº”ç¼–å·çš„äº‹ä»¶
- **å­—æ¯å‘½ä»¤**ï¼š
  - `s` - ä¿å­˜æ¸¸æˆ
  - `l` - è¯»å–æ¸¸æˆ
  - `i` - æŸ¥çœ‹ç‰©å“æ 
  - `h` - æ˜¾ç¤ºå¸®åŠ©
  - `q` - é€€å‡ºæ¸¸æˆ
  - `lang` - åˆ‡æ¢è¯­è¨€

### ğŸ“Š çŠ¶æ€æ˜¾ç¤º
- **æ—¶é—´ä¿¡æ¯**ï¼šæ˜¾ç¤ºå½“å‰æ—¶é—´ã€æ˜ŸæœŸã€å·¥ä½œæ—¥/å‘¨æœ«ã€ç™½å¤©/å¤œæ™š
- **åŸºç¡€å±æ€§**ï¼šé‡‘é’±ã€å¥åº·ã€ç–²åŠ³ã€é¥¥é¥¿ã€ç†æ€§ã€æ„Ÿæ€§ã€ä¸“æ³¨ã€å¿ƒæƒ…ç­‰
- **èŒä¸šå±æ€§**ï¼šä¸“ä¸šæŠ€èƒ½ã€èŒçº§ã€é¡¹ç›®è¿›åº¦ã€è€æ¿ä¸æ»¡åº¦
- **ç¤¾äº¤å±æ€§**ï¼šç¤¾äº¤å½±å“åŠ›ã€æŠ€æœ¯å£°èª‰ã€å“²å­¦æ„Ÿæ‚Ÿ

### ğŸ¯ äº‹ä»¶æ‰§è¡Œ
- **äº‹ä»¶é¢„è§ˆ**ï¼šæ˜¾ç¤ºäº‹ä»¶åç§°å’Œé¢„è®¡æ¶ˆè€—æ—¶é—´
- **ç¡®è®¤æœºåˆ¶**ï¼šæ‰§è¡Œé‡è¦äº‹ä»¶å‰éœ€è¦ç¡®è®¤
- **è¯¦ç»†åé¦ˆ**ï¼šæ˜¾ç¤ºäº‹ä»¶ç»“æœã€å±æ€§å˜åŒ–ã€è§¦å‘çš„ä¸´æ—¶äº‹ä»¶ç­‰

## å®‰è£…å’Œè¿è¡Œ

### å‰ç½®è¦æ±‚
- Node.js (æ¨è v16+)
- TypeScript
- ts-node

### å®‰è£…ä¾èµ–
```bash
npm install
```

### è¿è¡Œæ¸¸æˆ
```bash
# æ–¹å¼1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
npm start
# æˆ–
npm run dev

# æ–¹å¼2ï¼šç›´æ¥è¿è¡Œå‰ç«¯
npm run frontend

# æ–¹å¼3ï¼šä½¿ç”¨ts-node
npx ts-node start-game.ts

# æ–¹å¼4ï¼šå¦‚æœå·²ç¼–è¯‘
node dist/start-game.js
```

## æ¶æ„è®¾è®¡

### æ¨¡å—åŒ–ç»“æ„
```
src/frontend/
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ GameController.ts     # ä¸»æ¸¸æˆæ§åˆ¶å™¨
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ GameStatusDisplay.ts  # æ¸¸æˆçŠ¶æ€æ˜¾ç¤ºç»„ä»¶
â”‚   â”œâ”€â”€ ActionMenuDisplay.ts  # æ“ä½œèœå•æ˜¾ç¤ºç»„ä»¶
â”‚   â””â”€â”€ EventResultDisplay.ts # äº‹ä»¶ç»“æœæ˜¾ç¤ºç»„ä»¶
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ GameService.ts        # æ¸¸æˆæœåŠ¡å±‚
â”‚   â””â”€â”€ LocalizationService.ts # æœ¬åœ°åŒ–æœåŠ¡
â”œâ”€â”€ types.ts                  # å‰ç«¯ç±»å‹å®šä¹‰
â””â”€â”€ index.ts                  # å‰ç«¯å…¥å£ç‚¹
```

### æ ¸å¿ƒç»„ä»¶

#### GameController
- ä¸»æ¸¸æˆå¾ªç¯æ§åˆ¶
- ç”¨æˆ·è¾“å…¥å¤„ç†
- æ¸¸æˆçŠ¶æ€ç®¡ç†
- å¤šè¯­è¨€æ”¯æŒ

#### GameService
- ä¸åç«¯é€šä¿¡çš„æœåŠ¡å±‚
- å‘½ä»¤å°è£…å’Œå“åº”å¤„ç†
- é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶

#### Display Components
- **GameStatusDisplay**: æ¸¸æˆçŠ¶æ€çš„æ ¼å¼åŒ–æ˜¾ç¤º
- **ActionMenuDisplay**: å¯ç”¨æ“ä½œçš„èœå•æ˜¾ç¤º
- **EventResultDisplay**: äº‹ä»¶æ‰§è¡Œç»“æœçš„å±•ç¤º

#### LocalizationService
- å¤šè¯­è¨€æ–‡æœ¬ç®¡ç†
- åŠ¨æ€è¯­è¨€åˆ‡æ¢
- æœ¬åœ°åŒ–èµ„æºåŠ è½½

## æ¸¸æˆæœºåˆ¶è¯´æ˜

### æ—¶é—´ç³»ç»Ÿ
- æ¯å¤©åˆ†ä¸º48ä¸ªæ—¶é—´å•å…ƒï¼Œæ¯ä¸ªå•å…ƒä»£è¡¨30åˆ†é’Ÿ
- æ¸¸æˆä»å‘¨ä¸€æ—©ä¸Š7ç‚¹å¼€å§‹
- ä¸åŒäº‹ä»¶æ¶ˆè€—ä¸åŒçš„æ—¶é—´å•å…ƒ
- å‘¨æœ«å’Œå·¥ä½œæ—¥æœ‰ä¸åŒçš„å¯ç”¨äº‹ä»¶

### å±æ€§ç³»ç»Ÿ
- **ç†æ€§/æ„Ÿæ€§**ï¼šå½±å“ä¸“æ³¨åŠ›æ¶ˆè€—å’Œäº‹ä»¶æ•ˆæœ
- **ç–²åŠ³/é¥¥é¥¿**ï¼šéœ€è¦é€šè¿‡ä¼‘æ¯å’Œè¿›é£Ÿæ¥æ¢å¤
- **ä¸“æ³¨åŠ›**ï¼šæ‰§è¡Œå›°éš¾äº‹ä»¶æ—¶æ¶ˆè€—
- **èŒçº§**ï¼šå½±å“å¯ç”¨çš„å·¥ä½œäº‹ä»¶

### åœºæ™¯ç³»ç»Ÿ
- **å…¬å¸**ï¼šå·¥ä½œç›¸å…³äº‹ä»¶ï¼Œä¸è€æ¿åŒäº‹äº’åŠ¨
- **å•†åº—**ï¼šè´­ä¹°å„ç§ç‰©å“å’Œè£…å¤‡
- **å®¶**ï¼šä¼‘æ¯ã€å­¦ä¹ ã€ä¸ªäººæ—¶é—´
- **å…¬å›­**ï¼šé”»ç‚¼ã€æ€è€ƒã€æ”¾æ¾
- **é¤é¦†**ï¼šç”¨é¤ã€ç¤¾äº¤
- **åŒ»é™¢**ï¼šæ²»ç–—ã€å¥åº·æ£€æŸ¥

## ç•Œé¢é¢„è§ˆ

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    My Life As An Engineer                    â•‘
â•‘                      å‘½ä»¤è¡Œæ¸¸æˆç•Œé¢                          â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ¸¸æˆçŠ¶æ€                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ—¶é—´: 07:00 å‘¨ä¸€ (å·¥ä½œæ—¥) (ç™½å¤©)                           â”‚
â”‚ ä½ç½®: å®¶                                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ’° é‡‘é’±: 30000     â¤ï¸  å¥åº·: 100/100     ğŸ˜´ ç–²åŠ³: 0/100    â”‚
â”‚ ğŸ½ï¸  é¥¥é¥¿: 0/100     ğŸ§  ç†æ€§: 50/100     ğŸ’– æ„Ÿæ€§: 50/100   â”‚
â”‚ ğŸ¯ ä¸“æ³¨: 100/100     ğŸ˜Š å¿ƒæƒ…: 80/100    ğŸ”§ æŠ€èƒ½: 0/100     â”‚
â”‚ ğŸ‘” èŒçº§: 1/10     ğŸ“Š é¡¹ç›®: 0/100    ğŸ˜  è€æ¿: 0/100         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¯ç”¨æ“ä½œ                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¿«é€Ÿè¡ŒåŠ¨ (â‰¤1å°æ—¶):                                         â”‚
â”‚ 1. æ´—æ¼± (0.5å°æ—¶)                                          â”‚
â”‚ 2. ç®€å•æ—©é¤ (0.5å°æ—¶)                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä¸­ç­‰è¡ŒåŠ¨ (1-2.5å°æ—¶):                                      â”‚
â”‚ 3. é˜…è¯»æŠ€æœ¯ä¹¦ç± (2å°æ—¶)                                    â”‚
â”‚ 4. æ•´ç†æˆ¿é—´ (1.5å°æ—¶)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é•¿æ—¶é—´è¡ŒåŠ¨ (>2.5å°æ—¶):                                     â”‚
â”‚ 5. æ·±åº¦å­¦ä¹ æ–°æŠ€æœ¯ (4å°æ—¶)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç³»ç»Ÿ: s-ä¿å­˜ l-è¯»å– i-ç‰©å“ h-å¸®åŠ© q-é€€å‡º lang-åˆ‡æ¢è¯­è¨€     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API æ¥å£

### GameService æ–¹æ³•
```typescript
// è·å–æ¸¸æˆçŠ¶æ€
async getGameState(): Promise<GameState | null>

// è·å–å¯ç”¨äº‹ä»¶
async getAvailableEvents(): Promise<AvailableEvent[]>

// æ‰§è¡Œäº‹ä»¶
async executeEvent(eventId: number): Promise<EventResult>

// ä¿å­˜æ¸¸æˆ
async saveGame(): Promise<SaveResult | null>

// è¯»å–æ¸¸æˆ
async loadGame(saveData: string): Promise<boolean>

// æŸ¥çœ‹ç‰©å“æ 
async getInventory(): Promise<InventoryResult | null>

// è®¾ç½®è¯­è¨€
setLanguage(language: 'zh' | 'en'): void
```

### äº‹ä»¶å“åº”æ ¼å¼
```typescript
interface EventResult {
  success: boolean;
  game_text?: string;
  time_cost: number;
  resource_changes?: Array<{
    resource_id: number;
    resource_name: string;
    change: number;
  }>;
  temporary_events?: Array<{
    event_name: string;
    description: string;
  }>;
  scheduled_tasks?: Array<{
    task_name: string;
    description: string;
  }>;
}
```

## å¼€å‘è¯´æ˜

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ `types.ts` ä¸­å®šä¹‰æ–°çš„æ¥å£
2. åœ¨ç›¸åº”çš„ Service ä¸­å®ç°ä¸šåŠ¡é€»è¾‘
3. åœ¨ Component ä¸­æ·»åŠ æ˜¾ç¤ºé€»è¾‘
4. åœ¨ Controller ä¸­æ·»åŠ ç”¨æˆ·äº¤äº’å¤„ç†

### è‡ªå®šä¹‰æ˜¾ç¤ºç»„ä»¶
```typescript
export class CustomDisplay {
  private localization: LocalizationService;

  constructor() {
    this.localization = LocalizationService.getInstance();
  }

  displayCustomInfo(data: any): string {
    const texts = this.localization.getTexts();
    // å®ç°è‡ªå®šä¹‰æ˜¾ç¤ºé€»è¾‘
    return formattedOutput;
  }
}
```

### æ‰©å±•æœ¬åœ°åŒ–
```typescript
// åœ¨ LocalizationService ä¸­æ·»åŠ æ–°çš„æ–‡æœ¬
private texts = {
  zh: {
    newFeature: 'æ–°åŠŸèƒ½',
    // ...
  },
  en: {
    newFeature: 'New Feature',
    // ...
  }
};
```

## æµ‹è¯•

```bash
# è¿è¡Œå‰ç«¯æµ‹è¯•
npm run test:frontend

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm test

# æµ‹è¯•è¦†ç›–ç‡
npm run test:coverage
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **æ¸¸æˆæ— æ³•å¯åŠ¨**ï¼šæ£€æŸ¥Node.jså’ŒTypeScriptæ˜¯å¦æ­£ç¡®å®‰è£…
2. **æ˜¾ç¤ºå¼‚å¸¸**ï¼šç¡®ä¿ç»ˆç«¯æ”¯æŒUTF-8ç¼–ç å’ŒUnicodeå­—ç¬¦
3. **å‘½ä»¤æ— å“åº”**ï¼šæ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œ
4. **è¯­è¨€åˆ‡æ¢å¤±è´¥**ï¼šç¡®ä¿æœ¬åœ°åŒ–èµ„æºæ–‡ä»¶å®Œæ•´

### è°ƒè¯•æ¨¡å¼
åœ¨å¼€å‘æ—¶å¯ä»¥å¯ç”¨è°ƒè¯•è¾“å‡ºï¼š
```typescript
// åœ¨ GameController ä¸­
private debug = process.env.NODE_ENV === 'development';

if (this.debug) {
  console.log('Debug: å½“å‰æ¸¸æˆçŠ¶æ€', gameState);
}
```

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨å¼‚æ­¥æ“ä½œé¿å…é˜»å¡
- ç¼“å­˜é¢‘ç¹è®¿é—®çš„æ•°æ®
- ä¼˜åŒ–æ˜¾ç¤ºç»„ä»¶çš„æ¸²æŸ“é€»è¾‘
- å‡å°‘ä¸å¿…è¦çš„çŠ¶æ€åˆ·æ–°

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªå‰ç«¯ç•Œé¢ï¼

### å¼€å‘å»ºè®®
- ä¿æŒä»£ç ç®€æ´å’Œå¯è¯»æ€§
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œç±»å‹å®šä¹‰
- éµå¾ªTypeScriptæœ€ä½³å®è·µ
- æµ‹è¯•æ–°åŠŸèƒ½çš„å…¼å®¹æ€§
- ç¡®ä¿å¤šè¯­è¨€æ”¯æŒçš„å®Œæ•´æ€§

### ä»£ç é£æ ¼
- ä½¿ç”¨TypeScriptä¸¥æ ¼æ¨¡å¼
- éµå¾ªESLintè§„åˆ™
- ä½¿ç”¨async/awaitå¤„ç†å¼‚æ­¥æ“ä½œ
- ä¿æŒç»„ä»¶çš„å•ä¸€èŒè´£åŸåˆ™

---

äº«å—ä½ çš„å·¥ç¨‹å¸ˆç”Ÿæ´»ä¹‹æ—…ï¼ğŸš€

è¿™ä¸ªå‰ç«¯æä¾›äº†å®Œæ•´çš„æ¸¸æˆä½“éªŒï¼ŒåŒ…æ‹¬ç¾è§‚çš„ç•Œé¢ã€ä¸°å¯Œçš„äº¤äº’å’Œå®Œå–„çš„é”™è¯¯å¤„ç†ã€‚é€šè¿‡æ¨¡å—åŒ–çš„æ¶æ„è®¾è®¡ï¼Œå¯ä»¥è½»æ¾æ‰©å±•æ–°åŠŸèƒ½å’Œè‡ªå®šä¹‰ç•Œé¢å…ƒç´ ã€‚